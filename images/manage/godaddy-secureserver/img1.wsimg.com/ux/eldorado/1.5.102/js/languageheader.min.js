ux.eldorado=ux.eldorado||{},ux.eldorado.jQuery=ux.jQuery,ux.eldorado.util=function(a,b,c){function d(a){var b=k.getItem(a,"");return!!b&&JSON.parse(decodeURI(b))}function e(a,b){k.setItem(a,decodeURI(JSON.stringify(b)))}function f(a){k.removeItem(a)}function g(b,c){c=c||"pc-qry";var d=a(b),e=d.data(c)||"",f=d.data("pc-href")||d.attr("href"),g=f;return e.length>0&&(e=e.replace(/^[&?]/,""),g+=(f.indexOf("?")===-1?"?":"&")+e),g}function h(){var a=ux.util.cookie.readJson("info_idp");if(a)return("basic"===a.auth?a:a[a.auth]).info_shopperId}function i(){return ux.sid||h()}function j(b){var c=i();c&&a.ajax({dataType:"json",url:ux.eldorado.urls.myPinUrl,data:{shopperId:c},xhrFields:{withCredentials:!0},success:function(c){var d=!1;a(b).on("click",function(){return d=!d,a(b).text(d?c:"****"),!1})}})}var k=new ux.util.storage({cookiesDisabled:!0});return{getStorageItem:d,setStorageItem:e,removeStorageItem:f,getPCQryUrl:g,getSID:i,retrieveShopperPin:j}}(ux.eldorado.jQuery,_),ux.eldorado.delegationUI=function(a,b,c,d,e){function f(a,b,c,d){if(c&&b&&0!==a.length){var e,f=a.find(".acct-delegate-text");f.data("template")||f.data("template",f.html()),e=f.data("template"),e=ux.eldorado.shopperUI.renderName(e,"{firstName}","{lastName}",c),f.text(e.replace("{delegate}",b.displayName||b.firstName)),f[d?"addClass":"removeClass"]("refreshed"),a.show()}}function g(b,c,d,e){var g=a("#uxh-acct-delegate");if(0!==g.length)if(["s2s","e2s","e2s2s"].indexOf(b)>-1){var i=["e2s2s","s2s"].indexOf(b)>-1?"-cust":"-rep";f(g.find(".delegate"+i),c,d,e),["e2s2s"].indexOf(b)>-1&&(f(g.find(".delegate-rep"),c.del,c,e),g.addClass("delegate-db-shim")),"-rep"===i&&h(d),g.show()}else g.hide()}function h(a){var b=window.document.title,c=b.indexOf("]");b=c>-1?b.substr(c+2):b,window.document.title="["+a.shopperId+"] "+b}function i(){n===!0&&d.turnOffTabFocusCheck(),d.turnOnTabFocusCheck({callback:function(a,b,c,d){m&&g(a,b,c,d)}}),n=!0}function j(){a("#exit-delegation-link").on("click",function(){var b=a(this),c=a('<form id="del-switchback" method="POST" style="display:none;"><input type="hidden" name="secret" /></form>').appendTo(document.body);c.attr("action",b.attr("data-action")),c.find("input").attr("value",b.attr("data-sk")),c.submit()})}function k(a,b,c,e){var f=ux.eldorado.delegationUI,g=function(){_.isFunction(e)&&e(a),f.initBars(!0),f.initTabFocusAuth(),f.initHeader()};d.init(a,b,c,g)}function l(a){m=!(a===!1),g(d.delegationType(),d.delegateInfo(),d.customerInfo()),m===!0&&i(),j()}var m=!0,n=!1;return{init:k,initBars:l,initTabFocusAuth:function(){i()},initHeader:function(){"s2s e2s e2s2s".indexOf(d.delegationType())>-1&&a(".uxh-no-delegate").hide()}}}(jQuery,ux.i18n.header,ux.util,ux.acctDelegation),ux.eldorado.shopperUI=function(a,b,c){function d(a,b,c,d){d=d||ux.acctDelegation.customerInfo();var e="undefined"!=typeof d.displayName;return a.replace(b,e?d.displayName:d.firstName).replace(c,e?"":d.lastName)}function e(a){b.isFunction(a)&&(g=a)}function f(a){g(a)}var g=function(){};return{init:e,update:f,renderName:d}}(jQuery,_),ux.eldorado.thirdParty=function(a,b,c){function d(a){if(a&&a.js&&(!ux.disable||ux.disable.tealium!==!0)){var c=ux.eldorado.data.thirdParty.tealium||{};b.load.script({url:a.js,preLoad:function(){var a=window;a.utag_data=a.utag_data||{},a.utag_data.pl_id=ux.eldorado.data.plId,a.utag_data.shopper_id=ux.eldorado.data.shopperId,a.utag_data.app_name=ux.eldorado.data.app,a.utag_data.strings=c.strings,a.utag_data.urls=c.urls,_.extend(a.utag_data,ux.utagconfig)},attrs:{async:!0}})}}function e(c){c&&c.js&&c.css&&(!ux.disable||ux.disable.livePerson!==!0)&&b.load.files([{typ:"script",url:c.js,preLoad:function(){a("body").append(a('<div id="lpButtonDiv"></div>'))},when:"documentReady",postLoad:function(){ux.util.bs.breakpoints.onChange(function(b){a("#chat-popup").css("display","xs"===b?"none":"")})}},{typ:"css",url:c.css,when:"documentReady"}])}function f(a){ux.disable&&ux.disable.ga===!0||b.load.script({url:"//www.googletagmanager.com/gtm.js?id="+a+"&l=_gaDataLayer",preLoad:function(){var a=window,b="_gaDataLayer";a[b]=a[b]||[],a[b].push({"gtm.start":(new Date).getTime(),event:"gtm.js"})},attrs:{async:!0},anchor:document.getElementsByTagName("script")[0],where:"before"})}function g(a){var b=window,c=_.union(a.data,ux.gaconfig||[]);b._gaDataLayer=b._gaDataLayer||[];for(var d=0,e=c.length;d<e;d++)b._gaDataLayer.push(c[d]);b._gaq=b._gaq||[],b._gaq.push(["_setDomainName",a.domain])}function h(){if(ux&&ux.traffic2){var a=window.location,b=uxel.data;ux.traffic2.pushEvent({event:"impression",eid:b.impression+".uxpHeaderServed",app:b.app,alias:b.appAlias,hostname:a.hostname,path:a.path,query:a.search,market:b.market,lang:b.languageName,country:b.countryName,currency:b.currency,uiTheme:b.uiTheme,split:b.split})}}return{initTealium:d,initLivePerson:e,initGATagManager:f,configGATagManager:g,impr:h}}(jQuery,ux.util),ux.eldorado.seoLinks=function(a,b){return{init:function(){a("body").on("click","[data-pc-qry], [data-pc-link]",function(b){b.preventDefault();var c=a(this).data("eid");if(c){var d=window.location,e=ux.eldorado.data;ux.traffic2.pushEvent({event:"click",eid:c,app:e.app,alias:e.appAlias,hostname:d.hostname,path:d.path,query:d.search,market:e.market,lang:e.languageName,country:e.countryName,currency:e.currency,uiTheme:e.uiTheme,split:e.split})}var f=ux.eldorado.util.getPCQryUrl(this),g=a(this).data("pc-gate");g?a("<div />").html(ux.eldorado.texts.domainSwitchMsg).sfDialog({titleHidden:!0,buttons:[{text:ux.eldorado.texts.domainSwitchBtnContinue,onClick:function(a){a.sfDialog("close"),window.location=f}},{text:ux.eldorado.texts.domainSwitchBtnCancel,cancel:!0}]}):window.location=f})}}}(ux.eldorado.jQuery),ux.eldorado.supportInfo=function(a,b,c,d){function e(b,c,d,e,f,g){f.each(function(){var d=a(this),e=d.find(".menu-title");0===e.length?d.find(".support-phone a").attr("href","tel:+"+c.replace(/\s*/gi,"")).find(".phone-number").html(c):(e.find(".support-hours").html(b),l?e.find(".support-phone").remove():e.find(".support-phone").attr("href","tel:+"+c.replace(/[^0-9.]/gi,"")).html(c),g>1||l?a("a.contact-us-link").addClass("moreThanOne"):g<2&&a("#select-support .ux-tray-toggle").addClass("exactlyOne"))})}function f(b){var c=a("#select-support, #footer .support-wrap");if(c.removeClass("not-ready"),e(b.marketsupporthours,b.marketsupportphone,b.marketpagephonehours,b.marketpagephone,c,b.cityLocations.length),b.cityLocations.length>1||l){c.addClass("has-options").find("[data-openit]").bind("click.support-options",function(b){openit.toggle(a(this))});for(var d=a('<ul class="alt-contact-list"></ul>'),f=0;f<b.cityLocations.length;f++){var g=b.cityLocations[f],h=g.supportdescription;b.cityLocations.length>1&&(h=g.supporthours);var i=a('<li><span class="alt-support-hours">'+h+'</span><a class="font-primary-bold" data-eid="uxp.eld.sales_header.shared.utility_bar.support_phone.'+g.supportphone.replace(/[(,\s*]/gi,"").replace(/[-,)]/g,"_")+'.click" href="tel:+'+g.supportphone.replace(/\s*/gi,"")+'" class="alt-support-phone">'+g.supportphone+"</a></li>");i[0].supporthours=g.supporthours,i[0].supportphone=g.supportphone,i.bind("click.support-option-item",function(a){openit.toggle(c.find("[data-openit]"))}).appendTo(d)}if(b.marketpagephonehours){var j=a('<li><span class="alt-support-hours">'+b.marketpagephonehours+'</span><a class="font-primary-bold" data-eid="uxp.eld.sales_header.shared.utility_bar.market_page_phone.'+b.marketpagephone.replace(/[(,\s*]/gi,"").replace(/[-,)]/g,"_")+'.click" href="tel:+'+b.marketpagephone.replace(/\s*/gi,"")+'" class="alt-support-phone">'+b.marketpagephone+"</a></li>");j[0].pagephonehours=b.marketpagephonehours,j[0].pagephone=b.marketpagephone,j.appendTo(d)}d.insertAfter(c.find(".support-options .content-wrap h3.headline-primary")),a("#marketChatHours").text(b.marketlivechathours)}}function g(c){var d=b.isString(ux.phoneOverrideType)?"&overridephonetype="+ux.phoneOverrideType:"";a.ajax({url:ux.eldorado.urls.guiDomain+"pcjson/support/includemarket?plid="+ux.eldorado.data.plId+d,crossDomain:!0,dataType:"jsonp",contentType:"text/javascript; charset=utf-8",success:function(a){return function(b){h(b,a)}}(c)})}function h(a,b){var d=(new Date).getTime();"undefined"!=typeof b&&(a.marketsupportphone=b);var e=1;a.expires=d+36e5*e,c.setStorageItem(k,decodeURI(JSON.stringify(a))),f(a)}function i(){k=ux.eldorado.data.manifest+"-supportjson-"+a("html").attr("lang")+"2",j(ux.eldorado.marketSupportPhone)}function j(a){var d=c.getStorageItem(k,""),e=(new Date).getTime();!b.isObject(d)||d.expires>e?g(a):"undefined"!=typeof a&&d.marketsupportphone!==a?h(d,a):f(d)}var k,l=!1;return"true"===ux.eldorado.data.utilityChatSupported&&["salesheader","proheader","salesheader-cn","standardheaderfooter"].indexOf(ux.eldorado.data.manifest)!==-1&&(l="cart"!==ux.eldorado.data.app||"brand1.0"!==ux.eldorado.data.uiTheme),{init:i,setMarketSupportPhone:function(a){j(a)}}}(ux.eldorado.jQuery,_,ux.eldorado.util),ux.eldorado.marketSelector=function(a,b){function c(b,c){var d,e="#utility #site-locale",f="#footer-site-locale";switch(c){case"footer":d=f;break;case"all":d=e+","+f;break;default:d=e}a(d).css("display",b?"":"none")}return{enable:c}}(ux.jQuery),ux.eldorado.inappHelp=function(a,b,c,d){function e(){b.data.inappHelpSupported&&(a(".ux-help-link").parent().click(m),a("body").on("mouseup",s).on("mousemove",t),a(window).on("resize",i).on("beforeunload",n),ux.eldorado.ready(function(){q()&&g()}))}function f(c,d){var e=a('<div class="ux-help-container" />'),f=a('<div class="ux-help-panel ux-help-positioned" />'),g=a('<div class="ux-help-title-bar" />'),j=a('<div class="headline-primary" />'),k=a('<div class="uxicon uxicon-x" />'),l=a('<iframe class="ux-help-content" frameBorder="0" />');return d||(d=b.texts.inappHelpTitle),k.on("click touchstart",h),e.on("mousedown",r).on("touchstart",u).on("touchmove",v).on("touchend",w),l.attr("src",c),j.text(d),g.append(j).append(k),e.append(f),f.append(g),f.append(l),a(document.body).append(e),i(),e}function g(){var a=p();a&&(f(c.replaceQSValue("last","true",a.url)),k(a.x,a.y),j(a.height))}function h(){a(".ux-help-container").remove(),o()}function i(){k(),j()}function j(b){var c=a(".ux-help-container");if(0!==c.length){var d=c.find(".ux-help-panel"),e=d.find(".ux-help-content"),f=0;a.isNumeric(b)||(b=a(window).height()-parseInt(c.css("top"),10)-D),b<E&&(b=E),f=b-c.height(),e.height(e.height()+f),d.height(d.height()+f),c.height(c.height()+f)}}function k(b,c){var d=a(".ux-help-container");0!==d.length&&(a.isNumeric(b)||(b=a(window).width()-d.width()-C,b<A&&(b=A)),a.isNumeric(c)||(c=B),d.css({left:b,top:c}))}function l(a){if(b.data.inappHelpSupported===!1)return!1;if("true"!==a.attr("data-inapp-enabled"))return!1;var c=ux.util.bs.breakpoints.current();return"lg"===c||"md"===c}function m(){var b=a(this).find("a"),d=c.replaceQSValue("inapp","true",b.attr("href"));if(l(b))return f(d),!1}function n(){var b=a(".ux-help-container");if(0!==b.length){var c=window.location.host,d=(b.position(),b.find("iframe").attr("src")),e=+new Date,f={timestamp:e,host:c,url:d,x:parseInt(b.css("left"),10),y:parseInt(b.css("top"),10),height:b.height(),width:b.width()};G.setItem(H,JSON.stringify(f))}}function o(){G.removeItem(H)}function p(){var a=G.getItem(H);if(a)try{return JSON.parse(a)}catch(a){}return d}function q(){var a=p();if(!a||!a.url)return!1;var b=+new Date;return!(b-a.timestamp>F)&&a.host===window.location.host}function r(b){return y=b.pageX-b.currentTarget.offsetLeft,z=b.pageY-b.currentTarget.offsetTop,a(".ux-help-panel").addClass("ux-help-dragging").removeClass("ux-help-positioned"),x=!0,!1}function s(){if(x)return a(".ux-help-panel").addClass("ux-help-positioned").removeClass("ux-help-dragging"),x=!1,!1}function t(b){if(x)return a(".ux-help-container").css({left:b.pageX-y,top:b.pageY-z}),!1}function u(b){return y=b.originalEvent.touches[0].pageX-b.currentTarget.offsetLeft,z=b.originalEvent.touches[0].pageY-b.currentTarget.offsetTop,a(".ux-help-panel").addClass("ux-help-dragging").removeClass("ux-help-positioned"),x=!0,!1}function v(b){if(x)return a(".ux-help-container").css({left:b.originalEvent.touches[0].pageX-y,top:b.originalEvent.touches[0].pageY-z}),!1}function w(){if(x)return a(".ux-help-panel").addClass("ux-help-positioned").removeClass("ux-help-dragging"),x=!1,!1}var x=!1,y=-1,z=-1,A=100,B=50,C=0,D=50,E=350,F=1e4,G=new ux.util.storage,H="inapp-help-state";return{init:e,open:f,close:h,reopen:g,forgetState:o,rememberState:n,getStateData:p}}(jQuery,ux.eldorado,ux.util.url),ux.eldorado.footer=function(a,b,c){function d(){a(".ux-footer").css("height","auto");var b=a(".ux-footer").outerHeight();a("body").css("margin-bottom",b),a(".ux-footer").css("height",b)}function e(){a(document).ready(function(){a(".ux-footer").length>0&&a("html").addClass("ux-footer-html"),d(),a(window).resize(_.debounce(d,100))})}return{init:e,setHeight:d}}(jQuery,ux.util),ux.eldorado.header=function(a){return{init:function(){var a=ux.eldorado;a.productMenus&&a.productMenus.init(),a.currencyList&&a.currencyList.init(),a.supportInfo&&a.supportInfo.init(),a.headerSubMenu&&a.headerSubMenu.init(),a.shopper&&a.shopper.init()}}}(),ux.eldorado=_.extend(ux.eldorado,{init:function(){$(document).ready(function(){function a(a){_.isFunction(a)&&a()}var b=ux.eldorado.data.market,c=$("html").attr("lang")+"";c.length>0&&c.toLowerCase()!==b&&$("html").attr("lang",b);var d=ux.eldorado;d.header.init(),d.ssoLinks&&d.ssoLinks.init(),d.inappHelp&&d.inappHelp.init(),d.footer&&d.footer.init(),d.cookieWarning&&d.cookieWarning.init(),d.seoLinks&&d.seoLinks.init(),d.thirdParty&&(d.thirdParty.initLivePerson(ux.eldorado.data.thirdParty.livePerson),d.thirdParty.initTealium(ux.eldorado.data.thirdParty.tealium)),d.notifications&&d.notifications.init();var e=ux.eldorado.fns;if(_.isArray(e))for(;e.length;)a(e.pop());ux.eldorado.ready=a,delete ux.eldorado.fns})}}),ux.ready(ux.eldorado.init);